<!-- === VIEW ================================================================= -->

<div *ngIf="mode === 'view'">
  <div class="container">
    <p></p>
    <div class="card" style="max-width: 40em;">
      <div class="card-body">
        <p *ngIf="!initial">

              <!--          <b class="text-primary">First name</b>: {{firstName}}-->
                        <b class="text-primary">{{uiElementService.uiElements.at(99)}}</b>: {{firstName}}

                        <span (click)="setMode('edit')" class="link-primary" style="cursor: pointer;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                          <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                          <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                        </svg>

              <!--          <span style="font-size: small">edit</span>-->
                        <span style="font-size: small">{{uiElementService.uiElements.at(164)}}</span>

                      </span>
        </p>
        <p *ngIf="!initial">

                     <!--          <b class="text-primary">Last name</b>: {{lastName}}-->
                    <b class="text-primary">{{uiElementService.uiElements.at(100)}}</b>: {{lastName}}

                    <span (click)="setMode('edit')" class="link-primary" style="cursor: pointer;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                      <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                      <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                    </svg>

                  <!--          <span style="font-size: small">edit</span>-->
                  <span style="font-size: small">{{uiElementService.uiElements.at(164)}}</span>

                  </span>
        </p>

        <p>
          <b class="text-primary">Email</b>: {{username}}
          <span *ngIf="!initial" (click)="setMode('email')" class="link-primary" style="cursor: pointer;">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
          </svg>

<!--          <span style="font-size: small">edit</span>-->
          <span style="font-size: small">{{uiElementService.uiElements.at(164)}}</span>

        </span>
        </p>

<!--        <p *ngIf="!initial"><b class="text-primary">Roles</b>: {{roles}}</p>-->
        <p *ngIf="!initial"><b class="text-primary">{{uiElementService.uiElements.at(93)}}</b>: {{roles}}</p>

<!--        <p *ngIf="initial">This user is an initial admin</span></p>-->
        <p *ngIf="initial">{{uiElementService.uiElements.at(165)}}</p>

      </div>
      <div class="card-footer d-flex">

<!--        <button class="btn btn-sm btn-primary p-2 me-auto" type="button" (click)="logout()">Logout</button>-->
        <button class="btn btn-sm btn-primary p-2 me-auto" type="button" (click)="logout()">{{uiElementService.uiElements.at(166)}}</button>

<!--        <button class="btn btn-sm btn-outline-primary p-2" type="button" (click)="setMode('pass')">Change password</button>-->
        <button class="btn btn-sm btn-outline-primary p-2" type="button" (click)="setMode('pass')">{{uiElementService.uiElements.at(167)}}</button>

      </div>

    </div>
  </div>
</div>

<!-- === EDIT NAMES ================================================================= -->

<div *ngIf="mode === 'edit'">
  <div class="container">
    <div *ngIf="!_inProgress; else inProgress">
      <div class="card" style="max-width: 30em; margin-top: 1em;">
        <div class="card-header">
          <button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5ZM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5Z"/>
            </svg>

<!--            Return-->
            {{uiElementService.uiElements.at(26)}}

          </button>
        </div>
        <div class="card-body">
          <div class="input-group mb-3" >

<!--            <span class="input-group-text" id="firstNameLabel" style="min-width: 5em;">First name</span>-->
            <span class="input-group-text" id="firstNameLabel" style="min-width: 5em;">{{uiElementService.uiElements.at(99)}}</span>

            <input style="max-width: 30em;" type="text" class="form-control flex-grow-1" id="firstName"
                   required [(ngModel)]="_firstName" name="FirstName" maxlength="100" />
          </div>
          <div class="input-group mb-3" >

<!--            <span class="input-group-text" id="lastNameLabel" style="min-width: 5em;">Last name</span>-->
            <span class="input-group-text" id="lastNameLabel" style="min-width: 5em;">{{uiElementService.uiElements.at(100)}}</span>

            <input style="max-width: 30em;" type="text" class="form-control flex-grow-1" id="lastName"
                   required [(ngModel)]="_lastName" name="LastName" maxlength="100" />
          </div>
        </div>
        <div class="card-footer">

<!--          <button class="btn btn-sm btn-primary" type="button" (click)="updateFirstAndLastName()">Save</button>-->
          <button class="btn btn-sm btn-primary" type="button" (click)="updateFirstAndLastName()">{{uiElementService.uiElements.at(27)}}</button>

          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('edit')">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
            <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
          </svg>

<!--          undo-->
          {{uiElementService.uiElements.at(28)}}

        </button>

<!--          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">Cancel</button>-->
          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">{{uiElementService.uiElements.at(29)}}</button>

        </div>
      </div>
    </div>
  </div>
</div>

<!-- === CHANGE EMAIL ================================================================= -->

<div *ngIf="mode === 'email'">
  <div class="container">
    <div *ngIf="!_inProgress; else inProgress">
      <div class="card" style="max-width: 30em; margin-top: 1em;">
        <div class="card-header">
          <button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5ZM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5Z"/>
            </svg>

<!--            Return-->
            {{uiElementService.uiElements.at(26)}}

          </button>
        </div>
        <div class="card-body">
          <span class="text-danger">{{_message}}</span>&nbsp;
          <div class="input-group mb-3" >
            <span class="input-group-text" id="emailLabel" style="min-width: 5em;">Email</span>
            <input style="max-width: 30em;" type="email" class="form-control flex-grow-1" id="email"
                   required [(ngModel)]="_newEmail" name="New Email" maxlength="100" />
          </div>
        </div>
        <div class="card-footer">

<!--          <button class="btn btn-sm btn-primary" type="button" (click)="updateEmail()">Save</button>-->
          <button class="btn btn-sm btn-primary" type="button" (click)="updateEmail()">{{uiElementService.uiElements.at(27)}}</button>

          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('email'); _message=''">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
            <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
          </svg>

<!--          undo-->
          {{uiElementService.uiElements.at(28)}}

          </button>

<!--          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">Cancel</button>-->
          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">{{uiElementService.uiElements.at(29)}}</button>

        </div>
      </div>
    </div>
  </div>
</div>

<!-- === CHANGE PASSWORD ================================================================= -->

<div *ngIf="mode === 'pass'">
  <div class="container">
    <div *ngIf="!_inProgress; else inProgress">
      <div class="card" style="max-width: 30em; margin-top: 1em;">
        <div class="card-header">
          <button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5ZM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5Z"/>
            </svg>

<!--            Return-->
            {{uiElementService.uiElements.at(26)}}

          </button>
        </div>
        <div class="card-body">
          <span class="text-danger">{{_message}}</span>&nbsp;
          <div class="input-group mb-3" >

<!--            <span class="input-group-text" id="passwordLabel" style="min-width: 5em;">New password</span>-->
            <span class="input-group-text" id="passwordLabel" style="min-width: 5em;">{{uiElementService.uiElements.at(102)}}</span>

            <input style="max-width: 30em;" type="text" class="form-control flex-grow-1" id="password"
                   required [(ngModel)]="_newPassword" name="New Password" maxlength="50" />
          </div>
        </div>
        <div class="card-footer">

<!--          <button class="btn btn-sm btn-primary" type="button" (click)="updatePassword()">Set new password</button>-->
          <button class="btn btn-sm btn-primary" type="button" (click)="updatePassword()">{{uiElementService.uiElements.at(169)}}</button>

<!--          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">Cancel</button>-->
          &nbsp;<button class="btn btn-sm btn-outline-primary" type="button" (click)="setMode('view')">{{uiElementService.uiElements.at(29)}}</button>

        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #inProgress>
  <div class="d-flex justify-content-center align-items-center" style="height: 20vh;">
    <div class="text-center">
      <div class="d-flex align-items-center">

<!--        updating...&nbsp;&nbsp;-->
        {{uiElementService.uiElements.at(168)}}...&nbsp;&nbsp;

        <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
      </div>
    </div>
  </div>
</ng-template>
